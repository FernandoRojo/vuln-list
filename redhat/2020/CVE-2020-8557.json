{
  "mitigation": "On OpenShift Container Platform (OCP) 3.11 and 4.x it's possible to set the allowPrivilegeEscalation Security Context Constraint to 'false' to prevent this. Note that this is set to 'true' by default, and setting it to false will prevent certain binaries which require setuid to stop working. On OCP 3.11 for example the 'ping' command will no longer work [1]. On OCP 4.x and later the 'ping' command will work with allowPrivilegeEscalation set to False, but other setuid binaries will not work.\n[1] https://docs.openshift.com/container-platform/3.11/release_notes/ocp_3_11_release_notes.html",
  "affected_release": [
    {
      "product_name": "Red Hat OpenShift Container Platform 4.5",
      "release_date": "2020-08-24T00:00:00Z",
      "advisory": "RHSA-2020:3519",
      "package": "openshift-0:4.5.0-202008130146.p0.git.0.aaf1d57.el8",
      "cpe": "cpe:/a:redhat:openshift:4"
    },
    {
      "product_name": "Red Hat OpenShift Container Platform 4.5",
      "release_date": "2020-08-24T00:00:00Z",
      "advisory": "RHSA-2020:3520",
      "package": "openshift4/ose-hyperkube:v4.5.0-202008130146.p0",
      "cpe": "cpe:/a:redhat:openshift:4"
    }
  ],
  "package_state": [
    {
      "product_name": "Red Hat OpenShift Container Platform 3.11",
      "fix_state": "Affected",
      "package_name": "atomic-openshift",
      "cpe": "cpe:/a:redhat:openshift:3.11"
    }
  ],
  "threat_severity": "Moderate",
  "public_date": "2020-07-15T00:00:00Z",
  "bugzilla": {
    "description": "CVE-2020-8557 kubernetes: Node disk DOS by writing to container /etc/hosts",
    "id": "1835977",
    "url": "https://bugzilla.redhat.com/show_bug.cgi?id=1835977"
  },
  "cvss": {
    "cvss_base_score": "",
    "cvss_scoring_vector": "",
    "status": ""
  },
  "cvss3": {
    "cvss3_base_score": "5.5",
    "cvss3_scoring_vector": "CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H",
    "status": "verified"
  },
  "iava": "",
  "cwe": "CWE-400",
  "statement": "This vulnerability only affects OpenShift Container Platform 3.11 if the LocalStroageCapacityIsolation feature gate is enabled as per [1]. Without that feature enabled pods in OCP 3.11 do not have a limit on the amount of ephemeral storage they can use. Therefore to prevent a denial of service attack from a malicious actor in control of a pod the feature gate should be enabled as well as an upgrade to a OCP 3.11 version with a fix for this vulnerability.\n[1] https://docs.openshift.com/container-platform/3.11/install_config/configuring_ephemeral.html",
  "acknowledgement": "Red Hat would like to thank the Kubernetes Product Security Committee for reporting this issue. Upstream acknowledges Kebe Liu (DaoCloud) as the original reporter.",
  "name": "CVE-2020-8557",
  "document_distribution": "",
  "details": [
    "The Kubernetes kubelet component in versions 1.1-1.16.12, 1.17.0-1.17.8 and 1.18.0-1.18.5 do not account for disk usage by a pod which writes to its own /etc/hosts file. The /etc/hosts file mounted in a pod by kubelet is not included by the kubelet eviction manager when calculating ephemeral storage usage by a pod. If a pod writes a large amount of data to the /etc/hosts file, it could fill the storage space of the node and cause the node to fail.",
    "A flaw was found in Kubernetes, where the amount of disk space the /etc/hosts file can use is unconstrained. This flaw can allow attacker-controlled pods to cause a denial of service if they have permission to write to the node's /etc/hosts file."
  ],
  "references": [
    "https://groups.google.com/g/kubernetes-security-announce/c/cB_JUsYEKyY"
  ]
}